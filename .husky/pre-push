#!/bin/sh

echo 'ğŸ”€ğŸ”€ğŸ”€ Verifying branch status for GitHub Flow... ğŸ”€ğŸ”€ğŸ”€'

BRANCH=$(git rev-parse --abbrev-ref HEAD)
PROTECTED_BRANCHES="^(master|main)"

if [[ "$BRANCH" =~ $PROTECTED_BRANCHES ]]; then
    echo -e "\nâŒ Unable to push to remote $BRANCH branch, please push your dev branch and do pull request/merge request."
    exit 1
fi

echo 'âœ…âœ…âœ… All checks passed. Ready to push! âœ…âœ…âœ…'
